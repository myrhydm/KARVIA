# Project Setup Command

**Version**: 1.0.0
**Last Updated**: December 20, 2025
**Status**: Active
**Purpose**: Scaffold documentation structure for new or existing projects

---

## IMPORTANT: This is an AUTOMATED WORKFLOW

**Claude MUST execute each phase sequentially. This command creates a governed documentation structure that can be used across any codebase.**

---

## When to Use

Use `/setup` when:
- Starting a **new project** that needs documentation structure
- **Porting** the `.claude` framework to another codebase
- **Upgrading** an existing project to use Document Genome system
- **Resetting** documentation structure after major changes

---

## PHASE 0: PRE-FLIGHT CHECK

### Step 0.1: Check for Existing Config

```bash
# Check if project.yaml exists
ls -la .claude/project.yaml 2>/dev/null
```

**If exists**: Read config and proceed to PHASE 1
**If not exists**: Proceed to PHASE 0.2 (Interactive Setup)

### Step 0.2: Interactive Setup (If No Config)

**Ask user these questions:**

```markdown
## Project Setup Questions

1. **Project Name**: What is your project called?
   > Example: "iBrain", "Prodify", "MyApp"

2. **Strategy Folder Name**: What should the strategy folder be called?
   > Default: [PROJECT_NAME]_STRATEGY
   > Example: "IBRAIN_STRATEGY", "docs", "documentation"

3. **Scaffold Mode**: Full or Minimal?
   > **Full**: All 6 tiers (constitutional → governance) + templates + MVG
   > **Minimal**: Basic structure (3 folders) + README templates only

4. **Active Domains**: Which domains apply to your project?
   > [ ] GOVERNANCE (rules, values)
   > [ ] PRODUCT (features, roadmap)
   > [ ] ENGINE (services, microservices)
   > [ ] ARCHITECTURE (system design)
   > [ ] SECURITY (auth, encryption)
   > [ ] API (endpoints, contracts)
   > [ ] DELIVERY (sprints, releases)
   > [ ] OTHER: _______________

5. **Create Governance Doc?**: Create MVG (Minimum Viable Governance)?
   > [Y/n] - Recommended for all projects
```

### Step 0.3: Generate project.yaml

**After collecting answers, create `.claude/project.yaml`:**

```yaml
# .claude/project.yaml
# Generated by /setup on [DATE]
# Edit this file to customize project governance

project:
  name: "[PROJECT_NAME]"
  description: "[DESCRIPTION]"
  created: "[DATE]"

scaffold:
  mode: "[full|minimal]"
  strategy_folder: "[FOLDER_NAME]"

  tiers:
    constitutional: [true|false]
    authoritative: [true|false]
    master: [true|false]
    derived: [true|false]
    vision: [true|false]
    governance: [true|false]

  create_mvg: [true|false]
  create_genome_spec: [true|false]
  create_canonical_registry: [true|false]

domains:
  - [DOMAIN1]
  - [DOMAIN2]
  # ...

governance:
  audit_claude_folder: true
  session_seals_required: true
  version_tracking: true
```

---

## PHASE 1: CREATE FOLDER STRUCTURE

### Step 1.1: Read Config

```bash
# Parse project.yaml for scaffold settings
cat .claude/project.yaml
```

### Step 1.2: Create Base Structure

**For FULL scaffold mode:**

```bash
# Create strategy folder structure
mkdir -p [STRATEGY_FOLDER]/00_MASTER_INDEX.md

# Create 1-PRODUCT with tiered strategy subfolders
mkdir -p [STRATEGY_FOLDER]/1-PRODUCT/strategy/{00-constitutional,01-authoritative,02-master,03-derived,04-vision,05-governance}

# Create other standard folders
mkdir -p [STRATEGY_FOLDER]/2-TECHNICAL/{architecture,api-specs,data-models}
mkdir -p [STRATEGY_FOLDER]/3-DELIVERY/{sprints,releases,handoffs}
```

**For MINIMAL scaffold mode:**

```bash
# Create basic structure only
mkdir -p [STRATEGY_FOLDER]/strategy
mkdir -p [STRATEGY_FOLDER]/technical
mkdir -p [STRATEGY_FOLDER]/delivery
```

### Step 1.3: Create .claude Enhancements

```bash
# Create templates folder
mkdir -p .claude/templates

# Ensure all command files exist
ls .claude/commands/
```

---

## PHASE 2: CREATE TEMPLATE DOCUMENTS

### Step 2.1: Create README Templates

**Use templates from `.claude/templates/` or create inline:**

**Folder README Template:**
```markdown
# [FOLDER_NAME]

**Version**: 1.0.0
**Last Updated**: [DATE]
**Status**: Active
**Parent**: [PARENT_PATH]

---

## Purpose

[Brief description of what this folder contains]

---

## Contents

| Document | Version | Purpose |
|----------|---------|---------|
| [doc.md] | 1.0.0 | [purpose] |

---

## Session Seal

| Field | Value |
|-------|-------|
| **Counter** | `[CODE][TIMESTAMP]0001` |
| **Last Close** | [DATE] |
| **Summary** | Initial folder creation |

---

## Related Documentation

- **Parent**: [link]
- **Siblings**: [links]

---

**Document Status**: [status description]
```

### Step 2.2: Create MVG Template (If Selected)

**Create `[STRATEGY]/1-PRODUCT/strategy/00-constitutional/MVG_[PROJECT].md`:**

```markdown
# Minimum Viable Governance - [PROJECT_NAME]

**Version**: 1.0.0
**Last Updated**: [DATE]
**Status**: CONSTITUTIONAL
**Authority**: This document supersedes all others in case of conflict.

---

## 1. Project Identity

**Name**: [PROJECT_NAME]
**Mission**: [One sentence mission]
**Vision**: [One sentence vision]

---

## 2. Human Values

> These values guide ALL decisions. If any action conflicts with these, STOP.

1. **[Value 1]**: [Description]
2. **[Value 2]**: [Description]
3. **[Value 3]**: [Description]

---

## 3. Phase Definition

| Phase | Criteria | Status |
|-------|----------|--------|
| MVP | [criteria] | [Current/Pending/Complete] |
| Growth | [criteria] | Pending |
| Scale | [criteria] | Pending |

---

## 4. Governance Rules

### 4.1 Document Authority

```
T1: CONSTITUTIONAL (this document) - Supreme
T2: CANONICAL (domain sources) - Authoritative
T3: DERIVED (from T2) - Must align
T4: WORKING (drafts) - May be incomplete
```

### 4.2 Conflict Resolution

When documents conflict: T1 > T2 > T3 > T4

---

## 5. Amendment Process

This document can only be changed with:
1. Explicit stakeholder approval
2. Documented rationale
3. Version increment

---

**Document Status**: CONSTITUTIONAL - Supreme authority for [PROJECT_NAME].
```

### Step 2.3: Create Document Genome Spec

**Copy from template or create `05-governance/DOCUMENT_GENOME_SPECIFICATION.md`**

### Step 2.4: Create Canonical Source Registry

**Create `05-governance/CANONICAL_SOURCE_REGISTRY.md` with project domains**

---

## PHASE 3: CREATE .claude GOVERNANCE

### Step 3.1: Create .claude/DOCUMENT_REGISTRY.md

```markdown
# .claude Document Registry

**Version**: 1.0.0
**Last Updated**: [DATE]
**Status**: Active
**Purpose**: Track all .claude folder documents and their versions

---

## Command Files

| Command | Version | Status | Purpose |
|---------|---------|--------|---------|
| init.md | 3.0.0 | Active | Session initialization |
| close.md | 3.0.0 | Active | Session closure |
| setup.md | 1.0.0 | Active | Project scaffolding |
| audit.md | 2.0.0 | Active | Code/doc review |
| coding.md | 1.0.0 | Active | Coding sessions |
| strategy.md | 1.0.0 | Active | Strategy sessions |
| testing.md | 1.0.0 | Active | Testing sessions |
| general.md | 1.0.0 | Active | General sessions |

---

## Core Documents

| Document | Version | Status | Purpose |
|----------|---------|--------|---------|
| README.md | 1.0.0 | Active | Claude orientation |
| MASTER_GUIDE.md | 1.0.0 | Active | File placement rules |
| BEST_PRACTICES.md | 1.1.0 | Active | Quality standards |
| SESSION_LOG.md | 1.0.0 | Active | Session history |
| CHANGE_LOG.md | 1.0.0 | Active | Change tracking |
| DOCUMENT_REGISTRY.md | 1.0.0 | Active | This file |
| project.yaml | 1.0.0 | Active | Project config |

---

## Templates

| Template | Version | Purpose |
|----------|---------|---------|
| MVG_TEMPLATE.md | 1.0.0 | Governance document template |
| README_TEMPLATE.md | 1.0.0 | Folder README template |
| GENOME_TEMPLATE.md | 1.0.0 | Document genome template |

---

## Version History

| Date | Document | Change | Version |
|------|----------|--------|---------|
| [DATE] | setup.md | Created | 1.0.0 |
| [DATE] | DOCUMENT_REGISTRY.md | Created | 1.0.0 |
```

### Step 3.2: Update .claude/README.md with Session Seal

Add Session Seal block to `.claude/README.md`

### Step 3.3: Update CHANGE_LOG.md

Add entry for `/setup` execution

---

## PHASE 4: VERIFICATION

### Step 4.1: Verify Structure Created

```bash
# List all created folders
find [STRATEGY_FOLDER] -type d | head -20

# List all created files
find [STRATEGY_FOLDER] -name "*.md" | head -30

# Verify .claude updates
ls -la .claude/
```

### Step 4.2: Verification Checklist

```
FOLDER STRUCTURE
[ ] Strategy folder exists: [STRATEGY_FOLDER]/
[ ] Tier folders created (if full mode)
[ ] README.md in each folder
[ ] Session Seals in READMEs

GOVERNANCE DOCUMENTS
[ ] MVG created (if selected)
[ ] DOCUMENT_GENOME_SPECIFICATION.md exists
[ ] CANONICAL_SOURCE_REGISTRY.md exists
[ ] DOCUMENT_REGISTRY.md exists

.claude UPDATES
[ ] project.yaml created/updated
[ ] DOCUMENT_REGISTRY.md updated
[ ] CHANGE_LOG.md updated
[ ] templates/ folder created (if full mode)

CONFIG
[ ] project.yaml is valid YAML
[ ] All selected domains listed
[ ] Scaffold mode recorded
```

---

## PHASE 5: OUTPUT SUMMARY

### Step 5.1: Generate Setup Report

```markdown
## /setup Complete

**Project**: [PROJECT_NAME]
**Mode**: [Full/Minimal]
**Strategy Folder**: [FOLDER_PATH]

### Created Structure

```
[STRATEGY_FOLDER]/
├── 00_MASTER_INDEX.md
├── 1-PRODUCT/
│   └── strategy/
│       ├── 00-constitutional/ (1 doc)
│       ├── 01-authoritative/ (0 docs)
│       ├── 02-master/ (0 docs)
│       ├── 03-derived/ (0 docs)
│       ├── 04-vision/ (0 docs)
│       └── 05-governance/ (3 docs)
├── 2-TECHNICAL/
└── 3-DELIVERY/
```

### Documents Created

| Document | Location |
|----------|----------|
| MVG_[PROJECT].md | 00-constitutional/ |
| DOCUMENT_GENOME_SPECIFICATION.md | 05-governance/ |
| CANONICAL_SOURCE_REGISTRY.md | 05-governance/ |
| DOCUMENT_REGISTRY.md | 05-governance/ |
| [X] README.md files | All folders |

### Next Steps

1. Review and customize MVG_[PROJECT].md
2. Add project-specific authoritative documents
3. Run `/init` to start first session
4. Use `/close` to maintain session seals
5. Run `/audit` periodically to check doc health

### Config Location

`.claude/project.yaml` - Edit to customize governance settings
```

---

## SCAFFOLD MODE COMPARISON

### Full Scaffold (Recommended for New Projects)

```
Creates:
├── 6 tiered subfolders with READMEs
├── MVG governance document
├── Document Genome specification
├── Canonical Source Registry
├── Document Registry
├── .claude/templates/ folder
├── .claude/project.yaml config
└── All Session Seals

Best for:
- New projects starting fresh
- Complex multi-domain projects
- Teams wanting full governance
```

### Minimal Scaffold (For Quick Start)

```
Creates:
├── 3 basic folders (strategy, technical, delivery)
├── Basic README.md files
├── .claude/project.yaml config
└── Basic Session Seals

Best for:
- Small projects
- Quick prototypes
- Adding to existing projects
- Teams new to the system
```

---

## QUICK REFERENCE

```
/setup
   │
   ├─► Phase 0: Pre-flight (check config or prompt)
   │
   ├─► Phase 1: Create folder structure
   │      └─► Full: 6 tiers | Minimal: 3 folders
   │
   ├─► Phase 2: Create template documents
   │      └─► READMEs, MVG, Genome spec
   │
   ├─► Phase 3: Create .claude governance
   │      └─► DOCUMENT_REGISTRY, project.yaml
   │
   ├─► Phase 4: Verification
   │      └─► Check all created correctly
   │
   └─► Phase 5: Output summary
          └─► Report what was created
          └─► Next steps
```

---

## PORTABILITY

### To Use in Another Project

1. **Copy `.claude/` folder** to new project root
2. **Delete project-specific files**:
   - `SESSION_LOG.md` (start fresh)
   - `CHANGE_LOG.md` (start fresh)
   - `project.yaml` (will regenerate)
3. **Run `/setup`** to scaffold for new project
4. **Customize** MVG and governance docs

### Portable Files (Copy As-Is)

```
.claude/
├── commands/           # All command files
├── templates/          # All templates
├── README.md           # General orientation
├── MASTER_GUIDE.md     # File placement rules
└── BEST_PRACTICES.md   # Quality standards
```

### Project-Specific Files (Regenerate)

```
.claude/
├── SESSION_LOG.md      # Project history
├── CHANGE_LOG.md       # Project changes
├── project.yaml        # Project config
└── DOCUMENT_REGISTRY.md # Project doc tracking
```

---

**This command creates a governed, trackable documentation structure for any project.**
